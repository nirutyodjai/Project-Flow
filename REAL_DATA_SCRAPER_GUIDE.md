# ü§ñ Real Data Scraper - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568  
**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå:** Scrape ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å e-GP ‡∏î‡πâ‡∏ß‡∏¢ Puppeteer

---

## ‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à

### 1. **e-GP Scraper Library** üÜï
**‡πÑ‡∏ü‡∏•‡πå:** `src/lib/egp-scraper-real.ts`

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:**
- ‚úÖ Scrape ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å e-GP
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢ keyword
- ‚úÖ Parse ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

### 2. **Scrape API** üÜï
**‡πÑ‡∏ü‡∏•‡πå:** `src/app/api/scrape-egp/route.ts`

**Endpoint:** `POST /api/scrape-egp`

### 3. **Search Page** ‚úÖ ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó
**‡πÑ‡∏ü‡∏•‡πå:** `src/app/search-procurement/page.tsx`

**‡∏õ‡∏∏‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤":**
- ‚úÖ ‡πÉ‡∏ä‡πâ Puppeteer scrape ‡∏à‡∏≤‡∏Å e-GP
- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á 100%!

**‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï":**
- ‚úÖ ‡πÉ‡∏ä‡πâ Brave Search API
- ‚úÖ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡∏•‡πà‡∏á

---

## üéØ ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### ‡∏õ‡∏∏‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"

```typescript
// Scrape ‡∏à‡∏≤‡∏Å e-GP ‡∏î‡πâ‡∏ß‡∏¢ Puppeteer
POST /api/scrape-egp
{
  keyword: "‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á",
  limit: 50
}

// ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
{
  success: true,
  total: 20,
  projects: [
    {
      id: "EGP-REAL-...",
      projectName: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å e-GP",
      organization: "‡∏Å‡∏£‡∏°‡∏ó‡∏≤‡∏á‡∏´‡∏•‡∏ß‡∏á",
      budget: "50,000,000 ‡∏ö‡∏≤‡∏ó",
      closingDate: "2025-11-15",
      sourceUrl: "https://process3.gprocurement.go.th/..."
    }
  ],
  source: "e-GP (Real Scraping)"
}
```

---

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1. ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:
```
http://localhost:3000/search-procurement
```

### 2. ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:
```
‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á
```

### 3. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"

### 4. ‡∏£‡∏≠ 10-30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (Puppeteer ‡∏Å‡∏≥‡∏•‡∏±‡∏á scrape)

### 5. ‚úÖ ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å e-GP!

---

## üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ

### ‡∏à‡∏≤‡∏Å e-GP (Puppeteer):
```json
{
  "id": "EGP-REAL-1696320000000-0",
  "projectName": "‡∏à‡πâ‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 5 ‡∏ä‡∏±‡πâ‡∏ô",
  "organization": "‡∏Å‡∏£‡∏°‡∏ó‡∏≤‡∏á‡∏´‡∏•‡∏ß‡∏á",
  "budget": "52,500,000 ‡∏ö‡∏≤‡∏ó",
  "announcementDate": "2025-10-01",
  "closingDate": "2025-11-15",
  "projectType": "‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê",
  "method": "e-bidding",
  "description": "‡∏à‡πâ‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô...",
  "sourceUrl": "https://process3.gprocurement.go.th/..."
}
```

---

## üîß ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### Puppeteer Options:

```typescript
{
  headless: true,           // ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á browser
  args: [
    '--no-sandbox',
    '--disable-setuid-sandbox',
    '--disable-dev-shm-usage',
    '--disable-gpu',
  ]
}
```

### Timeout:
- **Page Load:** 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- **Wait After Load:** 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

---

## üéØ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ e-GP ‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà:

```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô API
curl http://localhost:3000/api/scrape-egp
```

**Response:**
```json
{
  "success": true,
  "message": "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ e-GP ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",
  "statusCode": 200,
  "info": {
    "name": "e-GP Real Scraper",
    "description": "Scrape ‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å e-GP ‡∏î‡πâ‡∏ß‡∏¢ Puppeteer"
  }
}
```

---

## ‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á

### 1. **‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô**
- Puppeteer ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î browser
- ‡∏£‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
- Parse ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- **‡∏£‡∏ß‡∏°: 10-30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ**

### 2. **Resource Intensive**
- ‡πÉ‡∏ä‡πâ RAM ‡∏°‡∏≤‡∏Å
- ‡πÉ‡∏ä‡πâ CPU ‡∏°‡∏≤‡∏Å
- ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡πà‡∏≠‡∏¢‡πÜ

### 3. **Rate Limiting**
- ‡∏≠‡∏¢‡πà‡∏≤ scrape ‡∏ö‡πà‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
- ‡∏≠‡∏≤‡∏à‡πÇ‡∏î‡∏ô block ‡∏à‡∏≤‡∏Å e-GP

---

## üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

### ‡πÉ‡∏ä‡πâ Caching:
```typescript
// Cache ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
const cacheKey = `egp-${keyword}`;
const cached = cache.get(cacheKey);

if (cached) {
  return cached;
}

const projects = await scrapeEGPProjects(keyword);
cache.set(cacheKey, projects, 3600); // 1 hour
```

### ‡πÉ‡∏ä‡πâ Background Job:
```typescript
// Scrape ‡∏ó‡∏∏‡∏Å 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
setInterval(async () => {
  const projects = await scrapeEGPProjects('');
  await saveToDatabase(projects);
}, 3600000);
```

---

## üéâ ‡∏™‡∏£‡∏∏‡∏õ

**Real Data Scraper ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô!**

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:
- ‚úÖ Scrape ‡∏à‡∏≤‡∏Å e-GP ‡∏à‡∏£‡∏¥‡∏á
- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 100% ‡∏à‡∏£‡∏¥‡∏á
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
- ‚úÖ Parse ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ 2 ‡πÅ‡∏ö‡∏ö:
1. **‡∏õ‡∏∏‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô** - Scrape ‡∏à‡∏≤‡∏Å e-GP (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á!)
2. **‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß** - Brave Search (‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)

---

**‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!** üöÄ

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 10-30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Puppeteer ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î browser ‡πÅ‡∏•‡∏∞ scrape ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
